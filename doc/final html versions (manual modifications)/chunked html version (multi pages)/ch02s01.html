<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>2.1. Generalities</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><link rel="home" href="index.html" title="Kopi Application Generator : User guide" /><link rel="up" href="ch02.html" title="Chapter 2. VLIB - The Visual Kopi application framework" /><link rel="prev" href="ch02.html" title="Chapter 2. VLIB - The Visual Kopi application framework" /><link rel="next" href="ch02s02.html" title="2.2. Visual Kopi Forms" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch02.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch02s02.html">Next</a></td></tr></table><hr />

	<div class="entete_header">
		<div class="logo_header">srd</div>
		<div class="title_header">Kopi Application Generator : User guide</div>
  </div>





</div><div class="section" title="2.1. Generalities"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_generalities"></a>2.1. Generalities</h2></div></div></div><p>In this section we will provide the definitions you may need in order to fully understand the syntax explanations in the rest of the chapter.
We will also provide the standard types used in the visual kopi framework.</p><div class="section" title="2.1.1. Syntax terms"><div class="titlepage"><div><div><h3 class="title"><a id="_syntax_terms"></a>2.1.1. Syntax terms</h3></div></div></div><p>During this chapter, you will have many <span class="strong"><strong>Syntax</strong></span> sections containing different keywords and special characters :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><span class="emphasis"><em>SimpleName and QualifiedName</em></span></strong></span>
</li></ul></div><p>When setting up your own application, you will often have to enter a name in order to define either a field, a block, a page or a form. You will then have to make use of either a simple or a qualified name.</p><p>A SimpleName consists of a character row in which neither spaces nor points are permitted.</p><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">StudentGroup2</pre><p>A QualifiedName is a row of characters in which points are allowed.</p><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">StudentGroup2.ViennaUniversity</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><span class="emphasis"><em>Parameters</em></span></strong></span>
</li></ul></div><p>You can also find parameters with types in the syntax blocks;</p><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">Integer x
String name
Fixed y</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><span class="emphasis"><em>Special Characters</em></span></strong></span>
</li></ul></div><p>These characters may be found ins syntax block and defines the rules of the syntax:</p><p>[ ]  : if an element in put between [ ] that means it’s optional.
*    : if an element or expression is followed by *, then it can be inserted zero or more times
+    : if an element or expression is followed by +, then this element need to be inserted at least one time, or more
|    : means Or
" "  : if and element or expression is put between " ", then it’s a keyword of the language.</p><p><span class="strong"><strong>Example</strong></span></p><pre class="screen">ItemDefinition  : "FORM" String formTitle ["IS" QualifiedName]
                  ["IMPLEMENTS" QualfiedName [,QualifiedName]* ]</pre></div><div class="section" title="2.1.2. Predefined Field Types"><div class="titlepage"><div><div><h3 class="title"><a id="_predefined_field_types"></a>2.1.2. Predefined Field Types</h3></div></div></div><p>Every form or report field In visual kopi have field type that can be one of the 12 ready to use predefined types :</p><pre class="programlisting">- FIXED     // used to insert fixed values
- IMAGE      // used to insert images
- INTEGER    // used to insert integer values
- STRING     // used to insert string values
- TEXT       // used to insert text values
- DATE       // used to insert a date value
- BOOL       // used to insert a true or false value
- COLOR      // used to set the fields color
- MONTH      // used to insert years months value
- TIME       // used to insert a hours:minutes time value
- TIMESTAMP  // used to insert a timestamp value
- WEEK       // used to insert years weeks  value</pre><div class="section" title="The STRING Field Type"><div class="titlepage"><div><div><h4 class="title"><a id="_the_string_field_type"></a>The STRING Field Type</h4></div></div></div><p>A STRING is used to enter characters which can be either letters, numbers or both. The width has always to be given. Moreover, you can optionaly indicate how many rows it will contain and how many will finally be displayed on the form. If these optional arguments are used, you have to indicate the carraige return method by specifying either the FIXED ON or the FIXED OFF option to avoid compilation errors.
There are also three other options you can use in order to modify the String’s case :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
CONVERT NAME  (Converts the first letter of each word to capital letter)
</li><li class="listitem">
CONVERT UPPER (Convert the whole text to capital letters)
</li><li class="listitem">
CONVERT LOWER (Converts the whole text to normal letters)
</li></ul></div><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">StringType   : "STRING" (Integer width ,Integer height ,Integer visible)
               [FixOption]
               [StringFormat]

FixOption    : "FIXED" "ON"
               "FIXED" "OFF"

StringFormat : "CONVERT" "UPPER"
               "CONVERT" "LOWER"
               "CONVERT" "NAME"</pre><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">STRING (40,10,4)
FIXED ON
CONVERT UPPER</pre><p>In this example, the text inserted will contain up to 40 characters and up to 10 rows. However, only the first 4 rows will be displayed on the form. Moreover, All the letters in the text will be converted to capital letters.</p></div><div class="section" title="The TEXT Field Type"><div class="titlepage"><div><div><h4 class="title"><a id="_the_text_field_type"></a>The TEXT Field Type</h4></div></div></div><p>A Text and a String are similar apart from the fact that in a text, two parameters have always to be given: namely the width and the height of the field whereas you only need to determine the width in a string.</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">TextType      : "TEXT" (Integer width ,Integer height ,Integer visible)
                [FixOption]

[FixOption]   : "FIXED" "ON"
                "FIXED" "OFF"</pre><p>For example, you can write STRING (40, 10, 4) or STRING (40) but you have to write TEXT (40, 10) or TEXT (40, 10, 4).</p></div><div class="section" title="The IMAGE Field Type"><div class="titlepage"><div><div><h4 class="title"><a id="_the_image_field_type"></a>The IMAGE Field Type</h4></div></div></div><p>This field type is used to insert an illustration or a picture. When introducing an IMAGE, you have to determine its width and height. These values have to be integers and are measured in pixel. In this case, the two attributes are compulsory.The field will look like a file chooser that lets you choose and image file to show in the field.</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">ImageType : "IMAGE" (Integer width , Integer height)</pre><p><span class="strong"><strong>Example:</strong></span></p><pre class="programlisting">IMAGE(20,10)</pre><p>In this field, the image will have a width of 20 pixel and a height of 10 pixel.</p></div><div class="section" title="The FIXED Field Type"><div class="titlepage"><div><div><h4 class="title"><a id="_the_fixed_field_type"></a>The FIXED Field Type</h4></div></div></div><p>A FIXED is used to insert numbers, integers, fixed point numbers. Fraction numbers are entered with the field type FRACTION.
The maximal width has to be determined for all them. In case of a fixed point number FIXNUM, the maximal scale i.e the number of characters standing after the comma has also to be defined.
Also the comma has to be counted as a character. Only the width is to be defined in a FRACTION.
You can also set the minimum and the maximum values for the FIXNUM field with the optional parameters MINVAL and MAXVAL.</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">FixedType   :  "FIXNUM" (Integer width ,Integer scale)
               ["MINVAL" Fixed minValue]
               ["MAXVAL" Fixed maxValue]

FractionType : "FRACTION" (Integer width)
               ["MINVAL" Fixed minValue]
               ["MAXVAL" Fixed maxValue]</pre><p><span class="strong"><strong>Example:</strong></span></p><pre class="programlisting">FIXED(4,2)      // for 1,25
  MINVAL 0
  MAXVAL 3.0


FRACTION(7)    //  for 1 35/64
  MINVAL 0
  MAXVAL 25</pre></div><div class="section" title="The INTEGER Field Type"><div class="titlepage"><div><div><h4 class="title"><a id="_the_integer_field_type"></a>The INTEGER Field Type</h4></div></div></div><p>Integer field type is  LONG is used to insert integers. Only the text width is to be defined. The MINVAL and MAXVAL options are also available for this type.</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">IntegerType:   "LONG" (Integer width)
               ["MINVAL" Integer minValue]
               ["MAXVAL" Integer maxValue]</pre><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">LONG(6)
  MINVAL 0
  MAXVAL 100</pre></div></div><div class="section" title="2.1.3. Code Field Types"><div class="titlepage"><div><div><h3 class="title"><a id="_code_field_types"></a>2.1.3. Code Field Types</h3></div></div></div><p>In addition to the predefined field types already available in visual kopi, you can define more specific types which are the ENUM type and the CODE type. Unlike the predefined field types, these types have to be set in the Type definition type of the form before you can use them in the fields.</p><div class="section" title="The ENUM Type"><div class="titlepage"><div><div><h4 class="title"><a id="_the_enum_type"></a>The ENUM Type</h4></div></div></div><p>The ENUM type means enumeration or listing. An enumeration definition is made up of one or several strings and only the strings you have listed can be entered in the field.</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">EnumType:   "ENUM" (EnumList)

EnumList:   String member [,EnumList]</pre><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">ENUM ("X-Small","Small","Medium", *  Large", *  X-Large" )</pre></div><div class="section" title="The CODE types"><div class="titlepage"><div><div><h4 class="title"><a id="_the_code_types"></a>The CODE types</h4></div></div></div><p>There are four different sorts of CODE :
* The CODE BOOL
* The CODE LONG
* The CODE FIXED
* The CODE STRING</p><p>These types enable you to have a list of item-value pairs, the items will be displayed in the field and the values will be assigned instead.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong>The Type CODE BOOL</strong></span>
</li></ul></div><p>In a CODE BOOL or BOOLEAN you have to assign a Boolean value to the item you have entered. Boolean values are values like "True" or "False" and "Yes" or "No".</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">CodeBooleanType : "CODE" "BOOL" "IS"
                  CodeBooleanList
                  "END" "CODE"

CodeBooleanList : CodeBoolean  [CodeBooleanList]

CodeBoolean     : String code "=" Boolean value</pre><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">CODE BOOL IS
  "married" = true
  "single"  = false
END CODE</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong>The Type CODE LONG</strong></span>
</li></ul></div><p>In a CODE LONG, you assign to each String item you have entered a LONG value.</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">CodeIntegerType : "CODE" "LONG" "IS"
                  CodeIntegerList
                  "END" "CODE"

CodeIntegerList : CodeInteger  [CodeIntegerList]

CodeInteger     : String code "=" Integer value</pre><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">CODE LONG IS
  "Monday" = 1
  "Tuesday" = 2
  "Wednesday" = 3
  "Thursday" = 4
  "Friday" = 5
  "Saturday" = 6
  "Sunday" = 7
END CODE</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong>The Type CODE FIXED</strong></span>
</li></ul></div><p>In a CODE FIXED, each item you have entered will get a FIXED value, i.e integers, fixed point numbers and fraction numbers.</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">CodeFixedType : "CODE" "FIXED" "IS"
                [CodeFixedList]
                "END" "CODE"

CodeFixedList : CodeFixed  [CodeFixedList]

CodeFixed     : String code "=" Fixed value</pre><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">CODE FIXED IS
  "piece" = 1.00
  "per cent" = 0.01
END CODE</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong>The Type CODE STRING</strong></span>
</li></ul></div><p>In a CODE STRING, each item you have entered will get a STRING value, this can be useful for shortcut of long strings for example.</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">CodeStringType : "CODE" "STRING" "IS"
                 [CodeStringType]
                 "END" "CODE"

CodeStringType : CodeString  [CodeStringType]

CodeString     : String code "=" String value</pre><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">CODE STRING IS
  "JDK" = "Java Development Kit"
  "JRE" = "Java Runtime Environment"
END CODE</pre></div></div><div class="section" title="2.1.4. The LIST command"><div class="titlepage"><div><div><h3 class="title"><a id="_the_list_command"></a>2.1.4. The LIST command</h3></div></div></div><p>Once you have defined a field type, you can make use of the LIST command in order to refer the user to a list or a table in the database which will help him when filling in the form in question.
If you refer a field type to a certain table, the field will get an icon on which you can click in order to retrieve this table. As this command connects the user with a certain table, you have to enumerate all columns of the table which information could be helpful for the user.
In so doing, you will then have to enter at least one column. The information contained in the first element of the list must have the same standard type as the defined type as it is the one which will be entered in the field in question. In addition, you may choose to refer to an existing form (that should extend the VDictionaryForm class) using either the NEW command to get a button on the bottom of the list allowing you to get to the referred form, or the ACCESS command to bypass the list and get directly to the referred form.</p><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="programlisting">List        : "LIST" String tableName ["NEW" | "ACESS" QualifiedName ]
              "IS" ListColumns
              "END" "LIST"

ListColumns : ListColumn  [ListColumns]

ListColumn  : [String field "="] SimpleName ":" Predefined Field Type</pre><p>This command is usually used when defining a new type, here is an example where we define the Lecturer Type as a STRING(8) value from the Symbol field of the "Lecturer" table on the database, when clicking on a field of Type Lecturer, you will have a list with three columns (Symbol, Surname and Lesson) retrieved from the "Lecturer" table. Selecting a row from this list will put the symbol value in the field.</p><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">TYPE Lecturer IS
  STRING (8)
  CONVERT UPPER

  LIST "Lecturer" IS
    "Symbol" = Symbol : STRING (8)
    "Name" = Name : STRING (40)
    "Surname" = Surname : STRING (40)
    "Lesson" = Lesson : STRING (20)
  END LIST
...
END TYPE</pre><div class="section" title="The SELECT command"><div class="titlepage"><div><div><h4 class="title"><a id="_the_select_command"></a>The SELECT command</h4></div></div></div><p>As you had the possibility to call up a list or a table from the database with the option LIST, you now can make Kopi sort out information from a whole list or a table which the option SELECT and this, according to criteria you have to define. Let’s say you want to view the degrees which can be achieved in a certain year. For this, you have to use the SELECT command as you see in the following rows:</p><p><span class="strong"><strong>Example</strong></span></p><pre class="programlisting">TYPE CurrentDegree (Integer year) IS
     STRING (8)
       CONVERT UPPER
  LIST{(
        SELECT Symbol, Description
        FROM   Degree
        WHERE Year = : (year)
        )} IS

        "Symbol" = Symbol : STRING (8)
        "Description" = Description : STRING (40)
  END LIST
END TYPE</pre><p>"Degree" is the database table to which we have to access in order to select the information. The command SELECT is used in order to enter the columns in which Kopi has to make its research. After FROM, you have to enter the table from which these columns are to be selected and after WHERE, you have to enter the conditions according to which this selection has to be carried out.</p><p>The sign "=" means the value of the data delivered after the selection must correspond to the conditions you have entered.
The sign ":" inserts one Java expression. After this Java expression, you can insert a SQL expression again. (See JLS 15.27)
Finally, you have to define for each of them the field type.</p><p>As a result of your selection, you will then have a table with two columns which will contain the different sorts of degrees achievable in the year you have entered.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
